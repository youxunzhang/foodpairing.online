# 食物大转盘功能说明

## 功能概述

食物大转盘是一个互动性强的美食推荐功能，用户可以通过转动转盘随机获得美食推荐，并查看详细的营养信息。该功能结合了游戏化的体验和实用的营养知识，让用户以有趣的方式探索各种美食。

## 新增文件

### 1. `food-roulette.html`
- **功能**: 食物大转盘主页面
- **特点**: 
  - 响应式设计，适配各种设备
  - 动画转盘效果
  - 分类筛选功能
  - 多语言支持
  - 详细的营养信息展示

## 数据来源

转盘功能整合了两个数据源：

### 1. 普通食物数据 (`foods-data.js`)
- 包含100+种常见食物的营养信息
- 涵盖谷物、蛋白质、乳制品、水果、蔬菜等分类
- 每种食物包含：名称、表情符号、分类、热量、蛋白质、碳水化合物、脂肪、纤维等

### 2. 城市美食数据 (`city-foods-data.js`)
- 包含10个中国主要城市的特色美食
- 每个城市2-4道招牌菜
- 包含：中英文名称、城市信息、价格、推荐地点、详细营养数据

## 主要功能

### 1. 转盘动画
- **视觉效果**: 彩色渐变转盘，中心有目标图标
- **动画时长**: 3秒转动动画
- **交互方式**: 点击转盘或按钮触发
- **防重复**: 转动期间禁用按钮，防止重复操作

### 2. 分类筛选
- **全部**: 包含所有食物类型
- **谷物类**: 面包、燕麦、米饭等
- **蛋白质类**: 鸡蛋、肉类、豆制品等
- **乳制品**: 牛奶、酸奶、奶酪等
- **水果类**: 各种新鲜水果
- **蔬菜类**: 各种蔬菜

### 3. 结果展示
- **食物信息**: 名称、表情符号、描述
- **营养数据**: 热量、蛋白质、碳水化合物、脂肪、纤维
- **额外信息**: 城市美食包含价格和推荐地点
- **动画效果**: 结果卡片滑入动画

### 4. 多语言支持
- **中文**: 默认语言
- **英文**: 完整翻译支持
- **动态切换**: 实时语言切换，无需刷新页面

## 技术实现

### 1. 数据结构
```javascript
// 统一的食物数据结构
{
    id: 1,
    name: "Food Name",
    chineseName: "中文名称",
    emoji: "🍎",
    category: "fruits",
    calories: 52,
    protein: 0.3,
    carbs: 14,
    fat: 0.2,
    fiber: 2.4,
    description: "食物描述",
    englishDescription: "English description",
    city: "城市名称", // 仅城市美食
    price: "价格", // 仅城市美食
    location: "推荐地点" // 仅城市美食
}
```

### 2. 核心函数

#### `initializeFoods()`
- 合并普通食物和城市美食数据
- 统一数据格式
- 避免ID冲突

#### `spinWheel()`
- 控制转盘动画
- 随机选择食物
- 显示结果

#### `getRandomFood()`
- 根据当前分类筛选食物
- 随机选择算法
- 处理空结果情况

#### `displayFoodResult(food)`
- 生成结果HTML
- 根据语言显示内容
- 添加动画效果

#### `filterByCategory(category)`
- 更新当前分类
- 更新按钮状态
- 影响下次转动结果

### 3. 样式设计

#### 转盘样式
- **尺寸**: 400px × 400px (移动端300px × 300px)
- **颜色**: 10色渐变背景
- **阴影**: 立体效果
- **中心**: 白色圆形，目标图标

#### 动画效果
- **转动**: CSS3 transform + cubic-bezier缓动
- **结果**: slideIn动画
- **按钮**: hover效果和禁用状态

#### 响应式设计
- **桌面端**: 完整布局
- **平板端**: 调整转盘大小
- **手机端**: 垂直布局，简化导航

## 用户体验

### 1. 交互流程
1. 用户选择食物分类（可选）
2. 点击转盘或按钮开始转动
3. 3秒动画展示
4. 显示随机选中的食物
5. 查看详细营养信息
6. 可继续转动或切换分类

### 2. 视觉反馈
- **转动状态**: 按钮禁用，显示"转动中..."
- **结果展示**: 卡片滑入动画
- **分类切换**: 按钮高亮显示
- **语言切换**: 实时更新所有文本

### 3. 信息展示
- **营养数据**: 网格布局，清晰易读
- **城市信息**: 位置图标和详细信息
- **价格信息**: 绿色背景突出显示

## 扩展性

### 1. 数据扩展
- 可轻松添加新的食物数据
- 支持新的食物分类
- 可扩展更多城市美食

### 2. 功能扩展
- 可添加收藏功能
- 可添加分享功能
- 可添加营养建议
- 可添加历史记录

### 3. 技术扩展
- 可添加更多动画效果
- 可添加音效
- 可添加更多筛选条件
- 可添加个性化推荐

## 维护说明

### 1. 数据维护
- 定期更新食物营养数据
- 添加新的城市美食
- 检查数据准确性

### 2. 功能维护
- 监控转盘动画性能
- 检查多语言翻译完整性
- 测试响应式布局

### 3. 用户体验优化
- 收集用户反馈
- 优化动画效果
- 改进界面设计

## 使用说明

### 1. 基本使用
1. 打开食物大转盘页面
2. 选择想要的食物分类（可选）
3. 点击转盘或"转动转盘"按钮
4. 等待动画完成
5. 查看推荐的食物和营养信息

### 2. 高级功能
- 切换语言查看不同语言版本
- 尝试不同分类获得多样化推荐
- 多次转动探索更多美食

### 3. 注意事项
- 转动期间请勿重复点击
- 营养数据仅供参考
- 城市美食信息可能因地区而异

## 总结

食物大转盘功能成功地将游戏化元素与实用的营养知识相结合，为用户提供了一个有趣且实用的美食探索工具。通过整合多种数据源、提供丰富的交互体验和完善的多语言支持，该功能能够满足不同用户的需求，并为网站增加了新的吸引力。
